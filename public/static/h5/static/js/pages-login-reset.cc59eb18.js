(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-reset"],{"0650":function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("uni-top-bar"),i("v-uni-view",{staticClass:"hongren",style:{top:t.height+43+"px"}},[i("v-uni-view",{staticClass:"switch"}),i("v-uni-view",{staticClass:"logo"},[i("img",{attrs:{src:"https://www.hongrensutui.com/h5/img/logo.png",mode:"widthFix"}})]),i("v-uni-view",{staticClass:"platform_list clearfix"},[i("v-uni-view",{staticClass:"list clearfix"},[i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("手机号码")]),i("v-uni-input",{attrs:{type:"number",placeholder:"请输入手机号码",disabled:t.signbtn},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}}),i("uni-text",{staticClass:"cuIcon-mobile text-gray",attrs:{"data-v-1c80394c":""}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("验证码")]),i("v-uni-input",{attrs:{type:"number",placeholder:"清输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),i("v-uni-button",{staticClass:"cu-btn bg-green shadow code",attrs:{disabled:t.codebtn},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.codeFun.apply(void 0,arguments)}}},[t._v(t._s(t.codeText))])],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("登录密码")]),i("v-uni-input",{attrs:{type:"password",placeholder:"请输入登录密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("uni-text",{staticClass:"cuIcon-lock text-gray",attrs:{"data-v-1c80394c":""}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("确认密码")]),i("v-uni-input",{attrs:{type:"password",placeholder:"请确认登录密码"},model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}}),i("uni-text",{staticClass:"cuIcon-lock text-gray",attrs:{"data-v-1c80394c":""}})],1),i("v-uni-view",{staticClass:"cu-form-group tip"},[i("v-uni-view",{staticClass:"flex justify-between"},[i("v-uni-view",{staticClass:"text-grey",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navToDetailPage("login/login")}}},[t._v("登录")]),i("v-uni-view",{staticClass:"text-grey",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navToDetailPage("login/reset")}}},[t._v("忘记密码")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-button",{staticClass:"cu-btn block bg-blue margin-tb-sm lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reset.apply(void 0,arguments)}}},[t._v("重置密码")])],1),i("v-uni-view",{staticClass:"flex padding justify-center"},[i("v-uni-view",{staticClass:"padding-sm margin-xs",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.wechatLogin.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cu-avatar lg round",staticStyle:{"background-image":"url(https://www.hongrensutui.com/h5/img/weixin.png)"}})],1)],1)],1)],1)},a=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}))},"35b0":function(t,e,i){"use strict";i.r(e);var n=i("0650"),o=i("3ccc");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("b9a3");var s,c=i("f0c5"),u=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"cee5f5e4",null,!1,n["a"],s);e["default"]=u.exports},"3ccc":function(t,e,i){"use strict";i.r(e);var n=i("adef"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},9480:function(t,e,i){var n=i("ed9a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("d924e3d2",n,!0,{sourceMap:!1,shadowMode:!1})},adef:function(t,e,i){"use strict";var n=i("ee27");i("4d63"),i("ac1f"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("9dcd")),a={components:{uniTopBar:o.default},data:function(){return{signbtn:!1,codebtn:!1,codetime:60,codeText:"验证码",user:"",mobile:"",yzm:"",code:"",password:"",height:""}},onLoad:function(t){this.height=this.StatusBar,"undefined"!=typeof t.code&&uni.request({url:"https://www.hongrensutui.com/api/index/user",data:{code:t.code},method:"POST",success:function(t){uni.setStorageSync("userInfo",t.data.data.info),uni.showToast({icon:"none",title:"登录成功！"}),setTimeout((function(){uni.reLaunch({url:"/pages/user/user"})}),1500)},error:function(t){uni.showToast({icon:"none",title:"授权登录失败！"})}})},methods:{reset:function(){return this.mobile?this.checkMobile(this.mobile)?this.password?this.password2?this.password!=this.password2?(uni.showToast({icon:"none",title:"两次密码不一致！"}),!1):this.code?this.code!=this.yzm?(uni.showToast({icon:"none",title:"验证码不正确"}),!1):void uni.request({url:"https://www.hongrensutui.com/api/index/reset",data:{mobile:this.mobile,code:this.yzm,password:this.password},method:"POST",success:function(t){-1==t.data.data.info.code?uni.showToast({icon:"none",title:t.data.data.info.msg}):(uni.setStorageSync("userInfo",t.data.data.info),uni.showToast({icon:"none",title:"密码修改成功！"}),setTimeout((function(){uni.reLaunch({url:"/pages/user/user"})}),1500))}}):(uni.showToast({icon:"none",title:"请输入验证码"}),!1):(uni.showToast({icon:"none",title:"请确认密码！"}),!1):(uni.showToast({icon:"none",title:"请输入密码！"}),!1):(uni.showToast({icon:"none",title:"手机号码不正确！"}),!1):(uni.showToast({icon:"none",title:"请输入手机号码！"}),!1)},wechatLogin:function(t){wxlogin()},checkMobile:function(t){return RegExp(/^1[34578]\d{9}$/).test(t)},codeFun:function(){var t=this;return this.mobile?this.checkMobile(this.mobile)?(this.signbtn=!0,this.codebtn=!0,this.timerInt=setInterval((function(){if(t.codetime--,t.codeText=t.codetime+"s",0==t.codetime)return clearInterval(t.timerInt),t.codetime=60,t.codebtn=!1,void(t.codeText="重新获取")}),1e3),void uni.request({url:"https://www.hongrensutui.com/api/index/verify_code",data:{receiver:this.mobile},method:"POST",success:function(e){0==e.data.data.Code?(uni.showToast({title:"验证码发送失败",icon:"none",duration:3e3}),t.signbtn=!1):(t.yzm=e.data.data.Code,uni.showToast({title:"验证码发送成功",icon:"none",duration:3e3}))}})):(uni.showToast({icon:"none",title:"手机号码不正确！"}),!1):(uni.showToast({icon:"none",title:"手机号码不能为空！"}),!1)},navToDetailPage:function(t,e){e&&(t=t+"?id="+e),uni.navigateTo({url:"/pages/"+t})}}};e.default=a},b9a3:function(t,e,i){"use strict";var n=i("9480"),o=i.n(n);o.a},ed9a:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".hongren[data-v-cee5f5e4]{bottom:0}.cu-avatar[data-v-cee5f5e4]{background-color:initial}.cu-form-group .title[data-v-cee5f5e4]{width:20vw}.switch[data-v-cee5f5e4]{height:14vw;text-align:right;padding:4vw}.logo[data-v-cee5f5e4]{\n\t/* margin-top: 10vw; */width:100vw;padding:3vw;text-align:center}.logo img[data-v-cee5f5e4]{width:25vw;height:25vw;border-radius:1.5vw}.cu-form-group.tip[data-v-cee5f5e4]{display:block;min-height:auto}.cu-form-group.tip .text-grey[data-v-cee5f5e4]{padding-top:3vw}.platform_list[data-v-cee5f5e4]{padding:0 3vw;margin:4vw 0}.platform_list .list .edit[data-v-cee5f5e4]{position:absolute;right:-3vw;padding-right:6vw;top:50%;margin-top:-12px}.platform_list .list[data-v-cee5f5e4]{position:relative;overflow:hidden;border-radius:2vw;box-shadow:1px 1px 2px rgba(230,57,70,.1);padding:4vw 3vw;background:#fff}.code[data-v-cee5f5e4]{width:20vw;font-size:3.5vw;padding:0}",""]),t.exports=e}}]);