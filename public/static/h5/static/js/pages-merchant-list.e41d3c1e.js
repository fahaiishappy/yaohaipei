(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-merchant-list"],{"05fa":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},n=i;e.default=n},"0bff":function(t,e,a){"use strict";a.r(e);var i=a("c63a"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"0c17":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".app-tabs[data-v-e5b681a0]{position:relative;height:42px;line-height:42px;color:#fff;font-size:3.6vw;background-color:#e71d36;-webkit-box-shadow:0 2px 1px rgba(26,26,26,.1);box-shadow:0 2px 1px rgba(26,26,26,.1)}.app-tabs .tabs-item[data-v-e5b681a0]{display:-webkit-box;display:-webkit-flex;display:flex;text-align:center;font-size:3.8vw}.app-tabs .tabs-item .tab-item[data-v-e5b681a0]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.app-tabs .tabs-item .active[data-v-e5b681a0]{font-weight:700;font-size:4vw;color:#fff}.app-tabs .tabs-line[data-v-e5b681a0]{position:absolute;bottom:1vw;width:%?40?%;height:1vw;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-border-radius:%?4?%;border-radius:%?4?%;-webkit-transition:left .3s;transition:left .3s;background:#fff}\n/*悬浮*/.app-tabs.tabs-fixed[data-v-e5b681a0]{z-index:199;position:fixed;top:43px;left:0;width:100%}",""]),t.exports=e},"128f":function(t,e,a){"use strict";a.r(e);var i=a("9ea9"),n=a("1e08");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("c18f");var r,o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"07edaae6",null,!1,i["a"],r);e["default"]=u.exports},"16e3":function(t,e,a){"use strict";var i=a("82de"),n=a.n(i);n.a},"1e08":function(t,e,a){"use strict";a.r(e);var i=a("3006"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"2c8d":function(t,e,a){"use strict";a.r(e);var i=a("3b2c"),n=a("0bff");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("50c9");var r,o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"e5b681a0",null,!1,i["a"],r);e["default"]=u.exports},3006:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTopBar",props:{barid:{type:Number,default:0},title:String,within:String,background:String},data:function(){return{height:""}},mounted:function(){this.height=this.StatusBar},methods:{navigateBack:function(){uni.navigateBack()}}};e.default=i},"3b2c":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tabs&&t.tabs.length?a("v-uni-view",{staticClass:"app-tabs",class:{"tabs-fixed":t.fixed},style:{top:t.topheight+"px"}},[a("v-uni-view",{staticClass:"tabs-item"},t._l(t.tabs,(function(e,i){return a("v-uni-view",{key:i,staticClass:"tab-item",class:{active:t.value===i},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.tabClick(i,e)}}},[16!=e.id?a("span",[t._v(t._s(t.getTabName(e)))]):a("img",{staticStyle:{width:"12vw",height:"6vw",position:"relative",top:"2vw"},attrs:{src:"https://www.hongrensutui.com/h5/img/video_tab_bg.png"}})])})),1),a("v-uni-view",{staticClass:"tabs-line",style:{left:t.lineLift}})],1):t._e()},s=[]},"50c9":function(t,e,a){"use strict";var i=a("8309"),n=a.n(i);n.a},"5e20":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.cu-bar[data-v-07edaae6]{position:fixed;top:0;left:0;right:0;z-index:300;min-height:44px;background-color:#e71d36;-webkit-transform:translateZ(0);transform:translateZ(0)}.cu-bar .logo_left[data-v-07edaae6]{margin-left:3vw;height:30px;display:block}.cuIcon-back[data-v-07edaae6]{color:#fff;font-size:6vw;float:left;height:44px;width:44px;line-height:44px;text-align:center}.title[data-v-07edaae6]{float:left;color:#fff;font-size:4vw;line-height:44px;\r\nmargin-left:44px\n}.cu-dialog[data-v-07edaae6]{background-color:transparent;width:auto;padding:4vw;height:auto}.cu-bar .action:first-child>uni-text[class*="cuIcon-"][data-v-07edaae6]{margin:0}.cu-bar.tabbar .action [class*="cuIcon-"][data-v-07edaae6]{width:auto}.cuIcon-close[data-v-07edaae6]:before{background-color:rgba(0,0,0,.5);padding:1.5vw;-webkit-border-radius:50%;border-radius:50%}',""]),t.exports=e},"623d":function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{i:Number,index:{type:Number,default:function(){return 0}}},data:function(){return{downOption:{auto:!1},upOption:{auto:!1},isInit:!1}},watch:{index:function(t){this.i!==t||this.isInit||(this.isInit=!0,this.mescroll&&this.mescroll.triggerDownScroll())}},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef&&this.mescrollInitByRef(),this.i===this.index&&(this.isInit=!0,this.mescroll.triggerDownScroll())}}},n=i;e.default=n},6246:function(t,e,a){"use strict";a.r(e);var i=a("d402"),n=a("c7a0");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("16e3");var r,o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"a0ba00da",null,!1,i["a"],r);e["default"]=u.exports},"74a8":function(t,e,a){"use strict";a.r(e);var i=a("a827"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"82de":function(t,e,a){var i=a("bdad");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0ac75a1e",i,!0,{sourceMap:!1,shadowMode:!1})},8309:function(t,e,a){var i=a("0c17");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("baeb851e",i,!0,{sourceMap:!1,shadowMode:!1})},"8e61":function(t,e,a){"use strict";var i=a("4ea4");a("d3b7"),a("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("128f")),s=i(a("2c8d")),r=i(a("9281")),o={components:{uniTopBar:n.default,AppTabs:s.default,MerchantList:r.default},data:function(){return{modalName:null,height:"400px",toptitle:"商家列表",tip:!1,message:"",messagelist:"",topheight:0,userInfo:[],banner:"",supplylist:"",within:"",search:"",loadSurvey:!0}},onLoad:function(t){var e=this;t.name&&(e.toptitle=t.name,"精选商家"==e.toptitle&&(e.within="https://www.hongrensutui.com/h5/img/jingxuan_logo_left.png")),t.banner&&(e.banner=t.banner),t.supplylist&&(e.supplylist=t.supplylist),this.topheight=this.StatusBar,this.height=uni.getSystemInfoSync().windowHeight+"px",e.getRandomArbitrary(0,49),e.getmessage(),e.timerInt=setInterval((function(){if(e.codetime--,e.message=e.messagelist[e.getRandomArbitrary(0,50)],e.message.celebrity=e.message.celebrity[0]+e.message.celebrity[1]+"***",e.message.merchant=e.message.merchant[0]+e.message.merchant[1]+"***",e.tip=!e.tip,0==e.codetime)return clearInterval(e.timerInt),void(e.codetime=2e3)}),4e3),t.invite&&(uni.getStorageSync("invite")||uni.setStorageSync("invite",t.invite)),t.code?uni.getStorage({key:"invite",success:function(a){uni.request({url:"https://www.hongrensutui.com/api/api/user",data:{code:t.code,invite:a.data},method:"POST",success:function(t){uni.removeStorageSync("invite"),uni.setStorageSync("userInfo",t.data.data.info),e.share(t.data.data.info.company_id,t.data.data.info.id)}})},fail:function(a){uni.request({url:"https://www.hongrensutui.com/api/api/user",data:{code:t.code},method:"POST",success:function(t){uni.setStorageSync("userInfo",t.data.data.info),e.share(t.data.data.info.company_id,t.data.data.info.id)}})}}):uni.getStorage({key:"userInfo",success:function(t){""!=t.data&&null!=t.data?e.updateuser(t.data.id):wxlogin()},fail:function(t){wxlogin()}})},onShow:function(){var t=this;uni.getStorage({key:"userInfo",success:function(e){""!=e.data&&null!=e.data&&t.updateuser(e.data.id)}})},methods:{updateuser:function(t){var e=this;t&&uni.request({url:"https://www.hongrensutui.com/api/api/userinfo",data:{id:t},method:"POST",success:function(t){t.data.data.info?(uni.setStorageSync("userInfo",t.data.data.info),e.share(t.data.data.info.company_id,t.data.data.info.id)):wxlogin()}})},getRandomArbitrary:function(t,e){return Math.floor(Math.random()*(e-t)+t)},getmessage:function(){var t=this;uni.request({url:"https://www.hongrensutui.com/api/index/message",method:"POST",success:function(e){t.messagelist=e.data.data.list,t.message=t.messagelist[t.getRandomArbitrary(0,50)],t.message.celebrity=t.message.celebrity[0]+t.message.celebrity[1]+"***",t.message.merchant=t.message.merchant[0]+t.message.merchant[1]+"***",t.tip=!t.tip}})},getsearch:function(){var t=this;this.loadSurvey=!1,this.$nextTick((function(){t.loadSurvey=!0}))},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},InputFocus:function(t){this.InputBottom=t.detail.height},InputBlur:function(t){this.InputBottom=0},share:function(t){function e(e,a){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var a="红人速推丨找商家，来红人速推，节省您更多的宝贵时间！",i="红人速推就是网红多 商家多，直播带货就上红人速推。",n="https://www.hongrensutui.com/uploads/share/home_logo2.png";share(a,i,n,e)}))}};e.default=o},9281:function(t,e,a){"use strict";a.r(e);var i=a("b008"),n=a("74a8");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var r,o=a("f0c5"),u=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"04143eb2",null,!1,i["a"],r);e["default"]=u.exports},"9ea9":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.height+44+"px",paddingTop:t.height+"px",background:t.background}},[1!=t.barid?a("span",{staticClass:"clearfix"},[t.within?a("img",{staticClass:"logo_left",style:{marginLeft:"44px",float:"left"},attrs:{src:t.within,mode:"heightFix"}}):a("span",[t.title?a("span",{staticClass:"title"},[t._v(t._s(t.title))]):a("span",{staticClass:"title"},[t._v("红人速推")])])]):a("span",[t.within?a("img",{staticClass:"logo_left",attrs:{src:t.within,mode:"heightFix"}}):a("img",{staticClass:"logo_left",attrs:{src:"https://www.hongrensutui.com/h5/img/logo_left.png",mode:"heightFix"}})])])},s=[]},a827:function(t,e,a){"use strict";var i=a("4ea4");a("99af"),a("a9e3"),a("ac1f"),a("841c"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("05fa")),s=i(a("623d")),r={mixins:[n.default,s.default],data:function(){return{merchant:"",height:"",topheight:"",downOption:{auto:!0},upOption:{auto:!1,noMoreSize:4,toTop:{src:""},empty:{tip:"~ 空空如也 ~"}}}},filters:{formatDate:function(t){var e=new Date(1e3*t),a=e.getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i:i;var n=e.getDate();n=n<10?"0"+n:n;var s=e.getHours();s=s<10?"0"+s:s;var r=e.getMinutes();r=r<10?"0"+r:r;var o=e.getSeconds();return o=o<10?"0"+o:o,a+"-"+i+"-"+n}},props:{tabs:Array,tag:String,search:String,banner:{type:[String,Number]},supplylist:{type:[String,Number]}},mounted:function(){this.topheight=this.StatusBar,this.height=uni.getSystemInfoSync().windowHeight+"px"},methods:{downCallback:function(t){this.mescroll.resetUpScroll(),this.mescroll.endSuccess()},upCallback:function(t){var e=this;e.merchantlist(t)},merchantlist:function(t){var e=this,a=this;uni.request({url:"https://www.hongrensutui.com/api/index/merchantlist",data:{supplylist:a.supplylist,search:a.search,pagenum:t.num,pagesize:t.size},method:"POST",success:function(i){var n=i.data.data.list,s=n.length;1==t.num&&(a.merchant=[]),a.merchant=a.merchant.concat(i.data.data.list),e.mescroll.endByPage(s),setTimeout((function(){e.mescroll.endSuccess(s)}),20)},fail:function(t){a.mescroll.endErr()}})},details:function(t){uni.navigateTo({url:"/pages/merchant/details?id="+t})}}};e.default=r},b008:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var i={mescrollUni:a("4f16").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mescroll-uni",{ref:"mescrollRef",attrs:{height:"100%",top:t.topheight+42+44+"px",down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[t.banner?a("v-uni-view",{staticClass:"special topimg"},[a("img",{attrs:{src:t.banner,mode:"widthFix"}})]):t._e(),t._l(t.merchant,(function(e,i){return a("v-uni-view",{key:i,staticClass:"merchant list",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.details(e.id)}}},[a("v-uni-view",{staticClass:"publisher"},[a("img",{attrs:{src:e["logo"]}})]),a("v-uni-view",{staticClass:"number"},[a("v-uni-view",{staticClass:"title ellipsis"},[t._v(t._s(e.title))]),a("v-uni-view",{staticClass:"item"},[a("span",{staticClass:"cu-tag line-green round"},[t._v("营业执照已验证")]),a("span",{staticClass:"cu-tag line-green round"},[t._v("人工审核")])]),a("v-uni-view",{staticClass:"item"},[t._v("商家分类"),t._l(e.category,(function(e,i){return i<2?a("v-uni-view",{key:i,staticClass:"table"},[t._v(t._s(e))]):t._e()}))],2),e.platform.length>0?a("v-uni-view",{staticClass:"item"},[t._v("拥有平台"),t._l(e.platform,(function(e,i){return i<2?a("v-uni-view",{key:i,staticClass:"table"},[t._v(t._s(e))]):t._e()}))],2):a("v-uni-view",{staticClass:"item"},[t._v("拥有平台"),a("v-uni-view",{staticClass:"table"},[t._v("实体")])],1)],1)],1)}))],2)},s=[]},b338:function(t,e,a){var i=a("5e20");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("91297c2c",i,!0,{sourceMap:!1,shadowMode:!1})},bdad:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".bg-red[data-v-a0ba00da]{background-color:#e71d36}",""]),t.exports=e},c18f:function(t,e,a){"use strict";var i=a("b338"),n=a.n(i);n.a},c63a:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{topheight:Number,tabs:Array,value:{type:[String,Number],default:function(){return 0}},fixed:Boolean},computed:{lineLift:function(){return 100/this.tabs.length*(this.value+1)-100/(2*this.tabs.length)+"%"}},data:function(){return{height:""}},mounted:function(){this.height=this.StatusBar},methods:{getTabName:function(t){return"object"===typeof t?t.name:t},tabClick:function(t,e){e&&this.value!=t&&(this.$emit("input",t),this.$emit("change",t))}}};e.default=i},c7a0:function(t,e,a){"use strict";a.r(e);var i=a("8e61"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},d402:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[t.message?a("v-uni-view",{staticClass:"tipnews"},[t.tip?a("v-uni-view",{staticClass:"animated1 fadeInRight"},[a("v-uni-view",{staticClass:"cuIcon-notificationfill"}),a("span",[a("span",{staticClass:"cor-ff"},[t._v(t._s(t.message.minute)+t._s(t.message.timename)+"前")]),a("span",[t._v("网红"+t._s(t.message.celebrity))]),t._v("查看了"),a("span",[t._v("商家"+t._s(t.message.merchant))])])],1):t._e()],1):t._e(),a("uni-top-bar",{attrs:{title:t.toptitle,within:t.within}}),a("v-uni-view",{staticClass:"cu-bar search bg-red",staticStyle:{"z-index":"400"},style:{top:t.topheight+42+"px"}},[a("v-uni-view",{staticClass:"search-form round"},[a("v-uni-text",{staticClass:"cuIcon-search"}),a("v-uni-input",{attrs:{"adjust-position":!1,type:"text",placeholder:"请输入品牌全称","confirm-type":"search"},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.InputFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.InputBlur.apply(void 0,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-button",{staticClass:"cu-btn bg-red shadow-blur round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getsearch.apply(void 0,arguments)}}},[t._v("搜索")])],1)],1),t.loadSurvey?a("MerchantList",{attrs:{banner:t.banner,search:t.search,supplylist:t.supplylist}}):t._e()],1)},s=[]}}]);