(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-docking"],{"05ef":function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"uniTopBar",props:{barid:{type:Number,default:0},title:String,within:String,background:String},data:function(){return{height:""}},mounted:function(){this.height=this.StatusBar},methods:{navigateBack:function(){uni.navigateBack()}}};e.default=i},"0980":function(t,e,a){"use strict";a.r(e);var i=a("81b0"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"1b9f":function(t,e,a){"use strict";a.r(e);var i=a("1ec6"),n=a("0980");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("cbd6");var s,l=a("f0c5"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"02e8a50b",null,!1,i["a"],s);e["default"]=r.exports},"1cb0":function(t,e,a){var i=a("627e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("b68b7a92",i,!0,{sourceMap:!1,shadowMode:!1})},"1ec6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={mescrollUni:a("426c").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("uni-top-bar",{attrs:{barid:1,within:t.within}}),a("v-uni-view",{staticClass:"category clearfix",style:{top:t.height+43+"px"}},[a("v-uni-view",{staticClass:"avatar"},[t._v("头像")]),a("v-uni-view",{staticClass:"number"},[t._v("消息")]),a("v-uni-view",{staticClass:"fans"},[t._v("时间")])],1),a("v-uni-view",{staticClass:"hongren",style:{top:t.height+88+"px"}},[a("mescroll-uni",{ref:"mescrollRef",attrs:{down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"item"},[t._l(t.collectlist,(function(e,i){return a("v-uni-view",{key:i,staticClass:"list clearfix",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navToDetailPage("celebrity/details",e.cewebrityid,1)}}},[a("img",{attrs:{src:e["cewebrityavatar"],mode:"widthFix"}}),a("v-uni-view",{staticClass:"number"},[t.userInfo.card_id>0?a("v-uni-view",{staticClass:"name"},[t._v(t._s(e.cewebritynickname))]):a("v-uni-view",{staticClass:"name"},[t._v(t._s(t._f("numFilter")(e.cewebritynickname)))]),a("v-uni-view",{staticClass:"lable clearfix"},[0==e.state&&2==e.belong?a("v-uni-view",{staticClass:"ellipsis",staticStyle:{"text-align":"left",width:"35vw","font-size":"3.5vw",color:"#999","line-height":"6vw"}},[a("span",{staticClass:"cor-e8"},[t._v("新消息：")]),t._v(t._s(e.content))]):a("v-uni-view",{staticClass:"ellipsis",staticStyle:{"text-align":"left",width:"35vw","line-height":"6vw","font-size":"3.5vw",color:"#999"}},[t._v(t._s(e.content))])],1)],1),a("v-uni-view",{staticClass:"number fr"},[a("v-uni-view",{staticClass:"name cor-e8",staticStyle:{"text-align":"right"}},[t._v(t._s(e.fans)+"w")]),a("v-uni-view",{staticClass:"ellipsis",staticStyle:{"text-align":"right",width:"35vw","line-height":"6vw","font-size":"3.5vw",color:"#999"}},[t._v(t._s(t._f("formatDate")(e.createtime)))])],1)],1)})),""==t.collectlist?a("v-uni-view",{staticClass:"no-data"},[t._v("暂无消息")]):t._e()],2)],1)],1)],1)},o=[]},3174:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.height+44+"px",paddingTop:t.height+"px",background:t.background}},[1!=t.barid?a("span",{staticClass:"clearfix"},[t.within?a("img",{staticClass:"logo_left",style:{marginLeft:"44px",float:"left"},attrs:{src:t.within,mode:"heightFix"}}):a("span",[t.title?a("span",{staticClass:"title"},[t._v(t._s(t.title))]):a("span",{staticClass:"title"},[t._v("红人速推")])])]):a("span",[t.within?a("img",{staticClass:"logo_left",attrs:{src:t.within,mode:"heightFix"}}):a("img",{staticClass:"logo_left",attrs:{src:"https://www.hongrensutui.com/h5/img/logo_left.png",mode:"heightFix"}})])])},o=[]},3734:function(t,e,a){"use strict";a.r(e);var i=a("3174"),n=a("75eb");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("3804");var s,l=a("f0c5"),r=Object(l["a"])(n["default"],i["b"],i["c"],!1,null,"07edaae6",null,!1,i["a"],s);e["default"]=r.exports},3804:function(t,e,a){"use strict";var i=a("1cb0"),n=a.n(i);n.a},"627e":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.cu-bar[data-v-07edaae6]{position:fixed;top:0;left:0;right:0;z-index:300;min-height:44px;background-color:#e71d36;-webkit-transform:translateZ(0);transform:translateZ(0)}.cu-bar .logo_left[data-v-07edaae6]{margin-left:3vw;height:30px;display:block}.cuIcon-back[data-v-07edaae6]{color:#fff;font-size:6vw;float:left;height:44px;width:44px;line-height:44px;text-align:center}.title[data-v-07edaae6]{float:left;color:#fff;font-size:4vw;line-height:44px;\r\nmargin-left:44px\n}.cu-dialog[data-v-07edaae6]{background-color:transparent;width:auto;padding:4vw;height:auto}.cu-bar .action:first-child>uni-text[class*="cuIcon-"][data-v-07edaae6]{margin:0}.cu-bar.tabbar .action [class*="cuIcon-"][data-v-07edaae6]{width:auto}.cuIcon-close[data-v-07edaae6]:before{background-color:rgba(0,0,0,.5);padding:1.5vw;-webkit-border-radius:50%;border-radius:50%}',""]),t.exports=e},"716d":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".hongren[data-v-02e8a50b]{bottom:0}.category[data-v-02e8a50b]{position:fixed;left:0;right:0;height:44px;line-height:44px;padding:0 3vw;font-size:4vw;color:#999;background:#f7f7f7;z-index:202;-webkit-box-shadow:1px 1px 2px rgba(26,26,26,.1);box-shadow:1px 1px 2px rgba(26,26,26,.1)}.category .ranking[data-v-02e8a50b],\n.item .list .ranking[data-v-02e8a50b]{width:8vw;float:left}.category .number[data-v-02e8a50b]{padding-left:6.6vw}.category .avatar[data-v-02e8a50b],\n.category .number[data-v-02e8a50b],\n.item .list .number[data-v-02e8a50b]{float:left}.category .fans[data-v-02e8a50b],\n.item .list .fans[data-v-02e8a50b]{float:right}.category .avatar[data-v-02e8a50b]{padding-left:3.5vw}.item[data-v-02e8a50b]{padding:0}.item .list .number .name[data-v-02e8a50b]{font-size:4vw;line-height:8vw}.item .list[data-v-02e8a50b]{line-height:15vw;font-size:4vw;padding:3vw}.item .list img[data-v-02e8a50b]{float:left;width:15vw;height:15vw;-webkit-border-radius:50%;border-radius:50%;margin-right:3vw}.item .list .number .lable[data-v-02e8a50b]{line-height:0;padding:0}.item .list .number .lable .lablelist[data-v-02e8a50b]{float:left;margin-right:1.5vw;text-align:center;font-size:3vw;border:1px solid #ddd;-webkit-border-radius:2vw;border-radius:2vw;line-height:0;color:#999;padding:2.5vw 2vw}.item .list .number.fr[data-v-02e8a50b]{float:right!important}.item .list .number .lable .lablelist.collect[data-v-02e8a50b]{border:none;padding:2.5vw 0;margin:0;float:right}.item .list .number .lable .lablelist.collect .cuIcon-like[data-v-02e8a50b]{font-size:6vw}.item .list .number .lable .lablelist.collect .cuIcon-likefill[data-v-02e8a50b]{font-size:6vw;color:#ffce6e}.item .list .fans[data-v-02e8a50b]{font-weight:700}.item .list[data-v-02e8a50b]:nth-of-type(even){background:#fcfbff}.category .fans[data-v-02e8a50b]:last-child{margin-right:0}.category .fans[data-v-02e8a50b]{padding-right:0}",""]),t.exports=e},"75eb":function(t,e,a){"use strict";a.r(e);var i=a("05ef"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"81b0":function(t,e,a){"use strict";(function(t){var i=a("4ea4");a("99af"),a("d3b7"),a("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("3734")),o=i(a("cea8")),s=i(a("8880")),l={mixins:[o.default,s.default],components:{uniTopBar:n.default},data:function(){return{modalName:null,content:"",chat:"",cewebrityuid:0,mid:0,setheight:200,tolast:"",contentViewHeight:300,scrollTop:0,old:{scrollTop:0},downOption:{auto:!0},upOption:{auto:!1,noMoreSize:4,empty:{tip:"~ 空空如也 ~"}},collectlist:"",userInfo:[],height:"",within:"https://www.hongrensutui.com/h5/img/xiaoxi_logo_left.png"}},filters:{formatDate:function(t){var e=new Date(1e3*t),a=(e.getFullYear(),e.getMonth()+1);a=a<10?"0"+a:a;var i=e.getDate();i=i<10?"0"+i:i;var n=e.getHours();n=n<10?"0"+n:n;var o=e.getMinutes();o=o<10?"0"+o:o;var s=e.getSeconds();return s=s<10?"0"+s:s,a+"-"+i+" "+n+":"+o+":"+s},numFilter:function(t){var e,a=t.length-1;return a<=2?e=t[0]+"**":3==a?e=t[0]+"***":4==a?e=t[0]+"****":a>=5&&(e=t[0]+"*****"),e}},onLoad:function(t){var e=this;this.height=this.StatusBar,uni.getSystemInfo({success:function(t){e.contentViewHeight=t.windowHeight-100}}),uni.getStorage({key:"userInfo",success:function(t){""!=t.data&&null!=t.data&&(e.userInfo=t.data)}}),t.invite&&(uni.getStorageSync("invite")||uni.setStorageSync("invite",t.invite)),t.code?uni.getStorage({key:"invite",success:function(a){uni.request({url:"https://www.hongrensutui.com/api/api/user",data:{code:t.code,invite:a.data},method:"POST",success:function(t){uni.removeStorageSync("invite"),uni.setStorageSync("userInfo",t.data.data.info),e.userInfo=t.data.data.info,uni.request({url:"https://www.hongrensutui.com/api/index/totaldocking",data:{userid:e.userInfo.id},method:"POST",success:function(t){0!=t.data.data.num?(e.downCallback(),uni.showTabBarRedDot({index:1,text:""+t.data.data.num})):(e.downCallback(),uni.hideTabBarRedDot({index:1}))}}),e.share(t.data.data.info.company_id,t.data.data.info.id)}})},fail:function(a){uni.request({url:"https://www.hongrensutui.com/api/api/user",data:{code:t.code},method:"POST",success:function(t){uni.setStorageSync("userInfo",t.data.data.info),e.userInfo=t.data.data.info,uni.request({url:"https://www.hongrensutui.com/api/index/totaldocking",data:{userid:e.userInfo.id},method:"POST",success:function(t){0!=t.data.data.num?(e.downCallback(),uni.showTabBarRedDot({index:1,text:""+t.data.data.num})):(e.downCallback(),uni.hideTabBarRedDot({index:1}))}}),e.share(t.data.data.info.company_id,t.data.data.info.id)}})}}):uni.getStorage({key:"userInfo",success:function(t){e.updateuser(t.data.id)},fail:function(t){wxlogin()}})},onShow:function(){var t=this;uni.getStorage({key:"userInfo",success:function(e){t.updateuser(e.data.id)}})},methods:{upper:function(e){t("log",e," at pages/user/docking.vue:235")},lower:function(e){t("log",e," at pages/user/docking.vue:238")},scroll:function(e){t("log",e," at pages/user/docking.vue:241"),this.old.scrollTop=e.detail.scrollTop},goTop:function(t){this.scrollTop=this.old.scrollTop,this.$nextTick((function(){this.scrollTop=0})),uni.showToast({icon:"none",title:"纵向滚动 scrollTop 值已被修改为 0"})},updateuser:function(t){var e=this;t&&uni.request({url:"https://www.hongrensutui.com/api/api/userinfo",data:{id:t},method:"POST",success:function(t){t.data.data.info?(uni.setStorageSync("userInfo",t.data.data.info),e.userInfo=t.data.data.info,uni.request({url:"https://www.hongrensutui.com/api/index/totaldocking",data:{userid:e.userInfo.id},method:"POST",success:function(t){0!=t.data.data.num?(e.downCallback(),uni.showTabBarRedDot({index:1,text:""+t.data.data.num})):(e.downCallback(),uni.hideTabBarRedDot({index:1}))}}),e.share(t.data.data.info.company_id,t.data.data.info.id)):wxlogin()}})},downCallback:function(t){this.mescroll.resetUpScroll(),this.mescroll.endSuccess()},upCallback:function(t){var e=this;uni.getStorage({key:"userInfo",success:function(a){""!=a.data&&null!=a.data?(e.userInfo=a.data,e.getcollect(t,e.userInfo.id)):e.getcollect(t)},fail:function(a){e.getcollect(t)}})},getcollect:function(t,e){var a=this,i=this;uni.request({url:"https://www.hongrensutui.com/api/index/totaldocking",data:{pagenum:t.num,pagesize:t.size,userid:e},method:"POST",success:function(e){var n=e.data.data.list,o=n.length;1==t.num&&(i.collectlist=[]),i.collectlist=i.collectlist.concat(e.data.data.list),a.mescroll.endByPage(o),setTimeout((function(){a.mescroll.endSuccess(o)}),20)},fail:function(t){i.mescroll.endErr()}})},navToDetailPage:function(t,e,a){e&&(t=t+"?id="+e),a&&(t=t+"&judge="+a),uni.navigateTo({url:"/pages/"+t})},share:function(t){function e(e,a){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var a="红人速推 | 网红直播带货一站式服务平台",i="红人速推就是网红多 商家多，直播带货就上红人速推。",n="https://www.hongrensutui.com/uploads/share/home_logo2.png";share(a,i,n,e)}))}};e.default=l}).call(this,a("0de9")["log"])},8880:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{i:Number,index:{type:Number,default:function(){return 0}}},data:function(){return{downOption:{auto:!1},upOption:{auto:!1},isInit:!1}},watch:{index:function(t){this.i!==t||this.isInit||(this.isInit=!0,this.mescroll&&this.mescroll.triggerDownScroll())}},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef&&this.mescrollInitByRef(),this.i===this.index&&(this.isInit=!0,this.mescroll.triggerDownScroll())}}},n=i;e.default=n},b638:function(t,e,a){var i=a("716d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0b778d94",i,!0,{sourceMap:!1,shadowMode:!1})},cbd6:function(t,e,a){"use strict";var i=a("b638"),n=a.n(i);n.a},cea8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){this.mescroll.resetUpScroll()},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},n=i;e.default=n}}]);